<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Paperboy La PorterÃ­a</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 40px; 
            background: #f5f5f5; 
        }
        .container { 
            max-width: 800px; 
            margin: 0 auto; 
            background: white; 
            padding: 20px; 
            border-radius: 8px; 
        }
        .error { 
            color: red; 
            margin: 20px 0; 
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="container">
            <h1>ğŸ”„ Cargando...</h1>
            <p>Si ves este mensaje, hay un problema con JavaScript.</p>
        </div>
    </div>

    <script>
        console.log('Testing React availability...');
        
        if (typeof React === 'undefined') {
            document.getElementById('root').innerHTML = '<div class="container"><h1 class="error">âŒ Error: React no cargÃ³</h1></div>';
        } else if (typeof ReactDOM === 'undefined') {
            document.getElementById('root').innerHTML = '<div class="container"><h1 class="error">âŒ Error: ReactDOM no cargÃ³</h1></div>';
        } else {
            console.log('React loaded successfully');
            
            // Simple test component
            function TestApp() {
                const [status, setStatus] = React.useState('ğŸ”„ Iniciando...');
                
                React.useEffect(() => {
                    setStatus('âœ… React funciona correctamente!');
                    
                    // Test Supabase
                    const script = document.createElement('script');
                    script.src = 'https://unpkg.com/@supabase/supabase-js@2';
                    script.onload = () => {
                        setStatus('âœ… React + Supabase OK - Redirigiendo a la app completa...');
                        setTimeout(() => {
                            window.location.href = './index.html';
                        }, 2000);
                    };
                    script.onerror = () => {
                        setStatus('âš ï¸ React OK, pero Supabase fallÃ³. Continuando...');
                        setTimeout(() => {
                            window.location.href = './index.html';
                        }, 2000);
                    };
                    document.head.appendChild(script);
                }, []);
                
                return React.createElement(
                    'div',
                    { className: 'container' },
                    React.createElement('h1', null, 'ğŸ§ª Test de DiagnÃ³stico'),
                    React.createElement('p', null, status),
                    React.createElement('hr', null),
                    React.createElement('h3', null, 'ğŸ“‹ DiagnÃ³sticos:'),
                    React.createElement('ul', null,
                        React.createElement('li', null, `âœ… React: ${React.version}`),
                        React.createElement('li', null, `âœ… ReactDOM: Disponible`),
                        React.createElement('li', null, `âœ… PÃ¡gina: Carga correctamente`),
                        React.createElement('li', null, `ğŸŒ URL: ${window.location.href}`)
                    )
                );
            }
            
            ReactDOM.render(React.createElement(TestApp), document.getElementById('root'));
        }
    </script>
</body>
</html>