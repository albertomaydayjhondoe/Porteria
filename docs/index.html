<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paperboy ‚Äî La Porter√≠a</title>
    <meta name="description" content="Blog de tiras c√≥micas diarias - Paperboy La Porter√≠a">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
            background: #fafafa;
            color: #1a1a1a;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }
        
        .header {
            background: white;
            border-bottom: 1px solid #e1e5e9;
            padding: 16px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            font-weight: 700;
            color: #1a1a1a;
            text-decoration: none;
        }
        
        .nav {
            display: flex;
            gap: 32px;
            align-items: center;
        }
        
        .nav-link {
            color: #6b7280;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s ease;
            padding: 8px 16px;
            border-radius: 8px;
        }
        
        .nav-link:hover,
        .nav-link.active {
            color: #1a1a1a;
            background: #f3f4f6;
        }
        
        .hero {
            text-align: center;
            padding: 80px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-bottom: 64px;
        }
        
        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 16px;
        }
        
        .hero p {
            font-size: 20px;
            color: rgba(255, 255, 255, 0.9);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .latest-comic {
            margin-bottom: 48px;
        }
        
        .latest-title {
            font-family: 'Playfair Display', serif;
            font-size: 32px;
            margin-bottom: 24px;
            text-align: center;
        }
        
        .comic-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            position: relative;
        }
        
        .comic-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .comic-card.latest {
            border: 2px solid #3b82f6;
            background: linear-gradient(135deg, #eff6ff 0%, white 100%);
        }
        
        .comic-card.latest::before {
            content: "üÜï HOY";
            position: absolute;
            top: 12px;
            right: 12px;
            background: #3b82f6;
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
            z-index: 10;
        }
        
        .comic-image {
            width: 100%;
            height: 400px;
            background: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .comic-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .comic-content {
            padding: 24px;
        }
        
        .comic-title {
            font-family: 'Playfair Display', serif;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #1a1a1a;
        }
        
        .comic-date {
            color: #6b7280;
            font-size: 16px;
            margin-bottom: 12px;
            font-weight: 500;
        }
        
        .comic-description {
            color: #6b7280;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 16px;
        }
        
        .comic-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .tag {
            background: #f0f9ff;
            color: #0369a1;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .comic-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
            margin-bottom: 64px;
        }
        
        .comic-grid .comic-card {
            height: fit-content;
        }
        
        .comic-grid .comic-image {
            height: 200px;
        }
        
        .comic-grid .comic-content {
            padding: 20px;
        }
        
        .comic-grid .comic-title {
            font-size: 20px;
        }
        
        .comic-grid .comic-date {
            font-size: 14px;
        }
        
        .slider-container {
            margin-bottom: 64px;
        }
        
        .slider-title {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            margin-bottom: 24px;
            text-align: center;
        }
        
        .slider {
            display: flex;
            gap: 24px;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding: 16px 0;
        }
        
        .slider::-webkit-scrollbar {
            height: 8px;
        }
        
        .slider::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }
        
        .slider::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        
        .slider-item {
            flex: 0 0 300px;
            height: 250px;
        }
        
        .slider-item .comic-card {
            height: 100%;
        }
        
        .slider-item .comic-image {
            height: 150px;
        }
        
        .slider-item .comic-content {
            padding: 12px 16px;
        }
        
        .slider-item .comic-title {
            font-size: 16px;
            margin-bottom: 8px;
        }
        
        .slider-item .comic-date {
            font-size: 12px;
        }
        
        .btn {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: background 0.2s ease;
        }
        
        .btn:hover {
            background: #2563eb;
        }
        
        .btn-secondary {
            background: #6b7280;
        }
        
        .btn-secondary:hover {
            background: #4b5563;
        }
        
        .btn-small {
            padding: 8px 16px;
            font-size: 14px;
        }
        
        .footer {
            background: #1a1a1a;
            color: white;
            padding: 40px 0;
            margin-top: 80px;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .footer-text {
            color: #9ca3af;
            font-size: 14px;
        }
        
        .footer-links {
            display: flex;
            gap: 24px;
        }
        
        .footer-link {
            color: #9ca3af;
            text-decoration: none;
            font-size: 14px;
            transition: color 0.2s ease;
        }
        
        .footer-link:hover {
            color: white;
        }
        
        .admin-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 24px;
        }
        
        .admin-title {
            font-family: 'Playfair Display', serif;
            font-size: 32px;
            margin-bottom: 32px;
            text-align: center;
        }
        
        .login-form {
            background: white;
            padding: 32px;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #374151;
        }
        
        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .upload-area {
            border: 2px dashed #d1d5db;
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 24px;
            transition: border-color 0.2s ease;
            cursor: pointer;
        }
        
        .upload-area:hover {
            border-color: #3b82f6;
            background: #f8fafc;
        }
        
        .upload-area.dragover {
            border-color: #3b82f6;
            background: #eff6ff;
        }
        
        .error-message {
            background: #fef2f2;
            color: #dc2626;
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 16px;
            border-left: 4px solid #dc2626;
        }
        
        .success-message {
            background: #f0fdf4;
            color: #16a34a;
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 16px;
            border-left: 4px solid #16a34a;
        }
        
        .loading {
            text-align: center;
            padding: 60px 0;
            font-size: 18px;
            color: #6b7280;
        }
        
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 36px;
            }
            
            .nav {
                gap: 16px;
            }
            
            .comic-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }
            
            .footer-content {
                flex-direction: column;
                gap: 16px;
            }
            
            .slider-item {
                flex: 0 0 250px;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Supabase configuration
        const SUPABASE_URL = 'https://sxjwoyxwgmmsaqczvjpd.supabase.co';
        const SUPABASE_PUBLISHABLE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN4andveXh3Z21tc2FxY3p2anBkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1ODQ4OTIsImV4cCI6MjA4MDE2MDg5Mn0.C7E_sRLVn9Uzfv3w-AzwuUQC0xB4Mfuq0aFfxrXK3s0';
        
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY);

        // Format date in Spanish
        const formatDate = (dateString) => {
            const date = new Date(dateString);
            return date.toLocaleDateString('es-ES', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
        };

        // Generate PDF for a comic strip
        const generatePDF = async (comic) => {
            const { jsPDF } = window.jspdf;
            const pdf = new jsPDF();
            
            // Add title
            pdf.setFontSize(20);
            pdf.text(comic.title, 20, 30);
            
            // Add date
            pdf.setFontSize(12);
            pdf.text(formatDate(comic.date), 20, 45);
            
            // Add description if exists
            if (comic.description) {
                pdf.setFontSize(10);
                const splitDescription = pdf.splitTextToSize(comic.description, 170);
                pdf.text(splitDescription, 20, 60);
            }
            
            // Try to add image if available
            if (comic.image_url) {
                try {
                    const response = await fetch(comic.image_url);
                    const blob = await response.blob();
                    const reader = new FileReader();
                    
                    reader.onload = function() {
                        const img = new Image();
                        img.onload = function() {
                            const canvas = document.createElement('canvas');
                            const ctx = canvas.getContext('2d');
                            canvas.width = img.width;
                            canvas.height = img.height;
                            ctx.drawImage(img, 0, 0);
                            
                            const imgData = canvas.toDataURL('image/jpeg', 0.8);
                            const imgWidth = 170;
                            const imgHeight = (img.height * imgWidth) / img.width;
                            
                            pdf.addImage(imgData, 'JPEG', 20, 80, imgWidth, Math.min(imgHeight, 150));
                            pdf.save(`${comic.title.replace(/[^a-zA-Z0-9]/g, '-')}.pdf`);
                        };
                        img.src = reader.result;
                    };
                    reader.readAsDataURL(blob);
                } catch (error) {
                    console.error('Error loading image for PDF:', error);
                    pdf.save(`${comic.title.replace(/[^a-zA-Z0-9]/g, '-')}.pdf`);
                }
            } else {
                pdf.save(`${comic.title.replace(/[^a-zA-Z0-9]/g, '-')}.pdf`);
            }
        };

        // Comic Strip Component
        const ComicStrip = ({ comic, isLatest = false, showPDF = false, compact = false }) => (
            <div className={`comic-card ${isLatest ? 'latest' : ''}`}>
                <div className={`comic-image ${compact ? 'compact' : ''}`}>
                    {comic.image_url ? (
                        <img src={comic.image_url} alt={comic.title} />
                    ) : (
                        <div style={{ color: '#9ca3af', fontSize: '14px' }}>
                            üìÑ Tira C√≥mica
                        </div>
                    )}
                </div>
                <div className="comic-content">
                    <h3 className="comic-title">{comic.title}</h3>
                    <div className="comic-date">{formatDate(comic.date)}</div>
                    {comic.description && !compact && (
                        <p className="comic-description">{comic.description}</p>
                    )}
                    <div className="comic-tags">
                        {comic.tags && comic.tags.map((tag, index) => (
                            <span key={index} className="tag">#{tag}</span>
                        ))}
                    </div>
                    {showPDF && (
                        <div style={{ marginTop: '16px' }}>
                            <button 
                                onClick={() => generatePDF(comic)}
                                className="btn btn-small btn-secondary"
                            >
                                üìÑ Descargar PDF
                            </button>
                        </div>
                    )}
                </div>
            </div>
        );

        // Header Component
        const Header = ({ currentPage, onPageChange }) => (
            <header className="header">
                <div className="container">
                    <div className="header-content">
                        <button onClick={() => onPageChange('home')} className="logo" style={{ border: 'none', background: 'none', cursor: 'pointer' }}>
                            Paperboy
                        </button>
                        <nav className="nav">
                            <button 
                                onClick={() => onPageChange('home')}
                                className={`nav-link ${currentPage === 'home' ? 'active' : ''}`}
                                style={{ border: 'none', background: 'none' }}
                            >
                                Inicio
                            </button>
                            <button 
                                onClick={() => onPageChange('archivo')}
                                className={`nav-link ${currentPage === 'archivo' ? 'active' : ''}`}
                                style={{ border: 'none', background: 'none' }}
                            >
                                Archivo
                            </button>
                            <button 
                                onClick={() => onPageChange('admin')}
                                className={`nav-link ${currentPage === 'admin' ? 'active' : ''}`}
                                style={{ border: 'none', background: 'none' }}
                            >
                                Admin
                            </button>
                        </nav>
                    </div>
                </div>
            </header>
        );

        // Hero Component
        const Hero = () => (
            <section className="hero">
                <h1>La Porter√≠a</h1>
                <p>
                    üìÖ <strong>Hoy, {formatDate(new Date())}</strong><br/>
                    Blog de tiras c√≥micas diarias con roller horizontal concatenado y tira del d√≠a vertical. 
                    Proyecto ligero construido con amor y dedicaci√≥n para alegrar tu d√≠a.
                </p>
            </section>
        );

        // Home Page Component
        const HomePage = ({ onPageChange }) => {
            const [latestComic, setLatestComic] = useState(null);
            const [otherComics, setOtherComics] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);

            useEffect(() => {
                const loadComics = async () => {
                    try {
                        const { data: comics, error: supabaseError } = await supabase
                            .from('comic_strips')
                            .select('*')
                            .order('date', { ascending: false });

                        if (supabaseError) {
                            console.error('Supabase error:', supabaseError);
                            setError('Error loading comics');
                        } else if (comics && comics.length > 0) {
                            setLatestComic(comics[0]);
                            setOtherComics(comics.slice(1, 6)); // Show 5 other recent comics
                        }
                    } catch (err) {
                        console.error('Error loading comics:', err);
                        setError('Error connecting to database');
                    } finally {
                        setLoading(false);
                    }
                };

                loadComics();
            }, []);

            if (loading) {
                return (
                    <main className="main">
                        <div className="container">
                            <Hero />
                            <div className="loading">
                                üìö Cargando tiras c√≥micas...
                            </div>
                        </div>
                    </main>
                );
            }

            return (
                <div>
                    <main className="main">
                        <div className="container">
                            <Hero />
                            
                            {error && (
                                <div className="error-message">
                                    ‚ö†Ô∏è {error} - Por favor, intenta recargar la p√°gina
                                </div>
                            )}
                            
                            {latestComic && (
                                <section className="latest-comic">
                                    <h2 className="latest-title">üé® √öltima Tira</h2>
                                    <ComicStrip comic={latestComic} isLatest={true} />
                                </section>
                            )}
                            
                            {otherComics.length > 0 && (
                                <section className="slider-container">
                                    <h2 className="slider-title">üìö Tiras Recientes</h2>
                                    <div className="slider">
                                        {otherComics.map((comic) => (
                                            <div key={comic.id} className="slider-item">
                                                <ComicStrip comic={comic} compact={true} />
                                            </div>
                                        ))}
                                    </div>
                                </section>
                            )}
                        </div>
                    </main>
                    <Footer />
                </div>
            );
        };

        // Archive Page Component
        const ArchivePage = ({ onPageChange }) => {
            const [comics, setComics] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);

            useEffect(() => {
                const loadAllComics = async () => {
                    try {
                        const { data: comics, error: supabaseError } = await supabase
                            .from('comic_strips')
                            .select('*')
                            .order('date', { ascending: false });

                        if (supabaseError) {
                            console.error('Supabase error:', supabaseError);
                            setError('Error loading comics archive');
                        } else {
                            setComics(comics || []);
                        }
                    } catch (err) {
                        console.error('Error loading comics archive:', err);
                        setError('Error connecting to database');
                    } finally {
                        setLoading(false);
                    }
                };

                loadAllComics();
            }, []);

            if (loading) {
                return (
                    <main className="main">
                        <div className="container">
                            <div className="loading">
                                üìö Cargando archivo de tiras...
                            </div>
                        </div>
                    </main>
                );
            }

            return (
                <div>
                    <main className="main">
                        <div className="container">
                            <section style={{ padding: '40px 0' }}>
                                <h1 className="latest-title">üìö Archivo de Tiras</h1>
                                
                                {error && (
                                    <div className="error-message">
                                        ‚ö†Ô∏è {error}
                                    </div>
                                )}
                                
                                {comics.length > 0 ? (
                                    <div className="comic-grid">
                                        {comics.map((comic) => (
                                            <ComicStrip key={comic.id} comic={comic} showPDF={true} />
                                        ))}
                                    </div>
                                ) : (
                                    <div style={{ textAlign: 'center', padding: '60px 0', color: '#6b7280' }}>
                                        üìÑ No hay tiras disponibles en el archivo
                                    </div>
                                )}
                            </section>
                        </div>
                    </main>
                    <Footer />
                </div>
            );
        };

        // Admin Page Component
        const AdminPage = ({ onPageChange }) => {
            const [user, setUser] = useState(null);
            const [isAdmin, setIsAdmin] = useState(false);
            const [loading, setLoading] = useState(true);
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [error, setError] = useState('');
            const [comics, setComics] = useState([]);
            const [uploading, setUploading] = useState(false);
            const [uploadSuccess, setUploadSuccess] = useState('');

            // Check authentication status
            useEffect(() => {
                const checkAuth = async () => {
                    try {
                        const { data: { user } } = await supabase.auth.getUser();
                        
                        if (user) {
                            setUser(user);
                            
                            // Check if user has admin role
                            const { data: roleData } = await supabase
                                .from('user_roles')
                                .select('role')
                                .eq('user_id', user.id)
                                .eq('role', 'admin')
                                .single();
                            
                            if (roleData) {
                                setIsAdmin(true);
                                loadComics();
                            }
                        }
                    } catch (err) {
                        console.error('Auth check error:', err);
                    } finally {
                        setLoading(false);
                    }
                };

                checkAuth();
            }, []);

            const loadComics = async () => {
                try {
                    const { data: comics } = await supabase
                        .from('comic_strips')
                        .select('*')
                        .order('date', { ascending: false });
                    
                    setComics(comics || []);
                } catch (err) {
                    console.error('Error loading comics:', err);
                }
            };

            const handleLogin = async (e) => {
                e.preventDefault();
                setError('');
                
                try {
                    const { data, error: authError } = await supabase.auth.signInWithPassword({
                        email,
                        password
                    });
                    
                    if (authError) {
                        setError('Email o contrase√±a incorrectos');
                        return;
                    }
                    
                    if (data.user) {
                        setUser(data.user);
                        
                        // Check admin role
                        const { data: roleData } = await supabase
                            .from('user_roles')
                            .select('role')
                            .eq('user_id', data.user.id)
                            .eq('role', 'admin')
                            .single();
                        
                        if (roleData) {
                            setIsAdmin(true);
                            loadComics();
                        } else {
                            setError('No tienes permisos de administrador');
                            await supabase.auth.signOut();
                            setUser(null);
                        }
                    }
                } catch (err) {
                    console.error('Login error:', err);
                    setError('Error de conexi√≥n');
                }
            };

            const handleLogout = async () => {
                await supabase.auth.signOut();
                setUser(null);
                setIsAdmin(false);
                setComics([]);
            };

            const handleFileUpload = async (e) => {
                const file = e.target.files[0];
                if (!file) return;

                setUploading(true);
                setError('');
                setUploadSuccess('');

                try {
                    // Upload image to Supabase Storage
                    const fileExt = file.name.split('.').pop();
                    const fileName = `${Date.now()}.${fileExt}`;
                    
                    const { data: uploadData, error: uploadError } = await supabase.storage
                        .from('comic-strips')
                        .upload(fileName, file);

                    if (uploadError) {
                        throw uploadError;
                    }

                    // Get public URL
                    const { data: urlData } = supabase.storage
                        .from('comic-strips')
                        .getPublicUrl(fileName);

                    // Insert comic strip record
                    const today = new Date().toISOString().split('T')[0];
                    
                    const { error: insertError } = await supabase
                        .from('comic_strips')
                        .insert([
                            {
                                title: `Tira del ${new Date().toLocaleDateString('es-ES')}`,
                                date: today,
                                image_url: urlData.publicUrl,
                                tags: ['diario', 'nuevo']
                            }
                        ]);

                    if (insertError) {
                        throw insertError;
                    }

                    setUploadSuccess('¬°Tira subida exitosamente!');
                    loadComics();
                    
                    // Reset file input
                    e.target.value = '';
                    
                } catch (err) {
                    console.error('Upload error:', err);
                    setError(`Error al subir la tira: ${err.message}`);
                } finally {
                    setUploading(false);
                }
            };

            const handleDeleteComic = async (comicId) => {
                if (!window.confirm('¬øEst√°s seguro de que quieres eliminar esta tira?')) {
                    return;
                }

                try {
                    const { error } = await supabase
                        .from('comic_strips')
                        .delete()
                        .eq('id', comicId);

                    if (error) {
                        throw error;
                    }

                    loadComics();
                    setUploadSuccess('Tira eliminada exitosamente');
                } catch (err) {
                    console.error('Delete error:', err);
                    setError(`Error al eliminar la tira: ${err.message}`);
                }
            };

            if (loading) {
                return (
                    <div className="admin-container">
                        <div className="loading">üîê Verificando autenticaci√≥n...</div>
                    </div>
                );
            }

            if (!user || !isAdmin) {
                return (
                    <div className="admin-container">
                            <h1 className="admin-title">üîê Panel de Administraci√≥n</h1>
                            
                            <form onSubmit={handleLogin} className="login-form">
                                <h2 style={{ marginBottom: '24px', textAlign: 'center' }}>Iniciar Sesi√≥n</h2>
                                
                                {error && <div className="error-message">{error}</div>}
                                
                                <div className="form-group">
                                    <label className="form-label">Email:</label>
                                    <input
                                        type="email"
                                        value={email}
                                        onChange={(e) => setEmail(e.target.value)}
                                        className="form-input"
                                        required
                                        placeholder="sampayo@gmail.com"
                                    />
                                </div>
                                
                                <div className="form-group">
                                    <label className="form-label">Contrase√±a:</label>
                                    <input
                                        type="password"
                                        value={password}
                                        onChange={(e) => setPassword(e.target.value)}
                                        className="form-input"
                                        required
                                        placeholder="administrador"
                                    />
                                </div>
                                
                                <button type="submit" className="btn" style={{ width: '100%' }}>
                                    Entrar al Admin
                                </button>
                            </form>
                        </div>
                    </div>
                );
            }

            return (
                <div className="admin-container">
                        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '32px' }}>
                            <h1 className="admin-title" style={{ margin: 0 }}>üé® Panel de Admin</h1>
                            <button onClick={handleLogout} className="btn btn-secondary">
                                Cerrar Sesi√≥n
                            </button>
                        </div>

                        {error && <div className="error-message">{error}</div>}
                        {uploadSuccess && <div className="success-message">{uploadSuccess}</div>}

                        <div style={{ background: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)', marginBottom: '32px' }}>
                            <h2 style={{ marginBottom: '16px' }}>üì§ Subir Nueva Tira</h2>
                            
                            <label className="upload-area">
                                <input
                                    type="file"
                                    accept="image/*"
                                    onChange={handleFileUpload}
                                    style={{ display: 'none' }}
                                    disabled={uploading}
                                />
                                {uploading ? (
                                    <div>‚è≥ Subiendo tira...</div>
                                ) : (
                                    <div>
                                        <div style={{ fontSize: '24px', marginBottom: '8px' }}>üìÅ</div>
                                        <div>Haz clic para seleccionar una imagen</div>
                                        <div style={{ fontSize: '14px', color: '#6b7280', marginTop: '8px' }}>
                                            Formatos: JPG, PNG, GIF (m√°x. 10MB)
                                        </div>
                                    </div>
                                )}
                            </label>
                        </div>

                        <div style={{ background: 'white', padding: '24px', borderRadius: '12px', boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)' }}>
                            <h2 style={{ marginBottom: '24px' }}>üìö Tiras Existentes ({comics.length})</h2>
                            
                            {comics.length > 0 ? (
                                <div className="comic-grid">
                                    {comics.map((comic) => (
                                        <div key={comic.id} style={{ position: 'relative' }}>
                                            <ComicStrip comic={comic} />
                                            <button
                                                onClick={() => handleDeleteComic(comic.id)}
                                                style={{
                                                    position: 'absolute',
                                                    top: '8px',
                                                    right: '8px',
                                                    background: '#dc2626',
                                                    color: 'white',
                                                    border: 'none',
                                                    borderRadius: '50%',
                                                    width: '32px',
                                                    height: '32px',
                                                    cursor: 'pointer',
                                                    fontSize: '14px'
                                                }}
                                                title="Eliminar tira"
                                            >
                                                ‚ùå
                                            </button>
                                        </div>
                                    ))}
                                </div>
                            ) : (
                                <div style={{ textAlign: 'center', padding: '40px 0', color: '#6b7280' }}>
                                    üìÑ No hay tiras disponibles. ¬°Sube la primera!
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // Footer Component
        const Footer = () => (
            <footer className="footer">
                <div className="container">
                    <div className="footer-content">
                        <div className="footer-text">
                            ¬© 2025 Paperboy ‚Äî La Porter√≠a. Todos los derechos reservados.
                        </div>
                        <div className="footer-links">
                            <a href="#" className="footer-link">RSS</a>
                            <a href="mailto:sampayo@gmail.com" className="footer-link">Contacto</a>
                        </div>
                    </div>
                </div>
            </footer>
        );

        // Main App Component
        const App = () => {
            const [currentPage, setCurrentPage] = useState('home');

            const renderPage = () => {
                switch(currentPage) {
                    case 'archivo':
                        return <ArchivePage onPageChange={setCurrentPage} />;
                    case 'admin':
                        return <AdminPage onPageChange={setCurrentPage} />;
                    default:
                        return <HomePage onPageChange={setCurrentPage} />;
                }
            };

            return (
                <div>
                    <Header currentPage={currentPage} onPageChange={setCurrentPage} />
                    {renderPage()}
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>